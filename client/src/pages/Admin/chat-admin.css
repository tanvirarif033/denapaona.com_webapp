/* ==== Admin chat layout ==== */
.chat-admin{display:grid;grid-template-columns:300px 1fr;height:calc(100vh - 140px);gap:0;background:#fff}
@media (max-width:900px){.chat-admin{grid-template-columns:1fr}}

/* left list */
.chat-admin__list{border-right:1px solid #eee;display:flex;flex-direction:column;min-height:0}
.chat-admin__search{padding:10px;border-bottom:1px solid #eee;background:#fafafa}
.chat-admin__search input{width:100%;border:1px solid #e5e7eb;border-radius:10px;padding:8px 10px}
.chat-admin__rooms{overflow-y:auto;padding:6px}
.chat-admin__rooms .room{width:100%;display:flex;gap:10px;padding:10px;border-radius:10px;background:transparent;border:0;text-align:left;cursor:pointer}
.chat-admin__rooms .room:hover{background:#f9fafb}
.chat-admin__rooms .room.active{background:#eef2ff}
.chat-admin__rooms .room .avatar{width:36px;height:36px;border-radius:50%;background:#111827;color:#fff;display:grid;place-items:center;font-weight:700}
.chat-admin__rooms .room .meta{flex:1;min-width:0}
.chat-admin__rooms .room .meta .top{display:flex;justify-content:space-between;gap:8px;margin-bottom:4px}
.chat-admin__rooms .room .name{font-weight:600}
.chat-admin__rooms .room .time{font-size:12px;color:#9ca3af}
.chat-admin__rooms .room .bottom{display:flex;align-items:center;gap:6px}
.chat-admin__rooms .room .preview{font-size:13px;color:#6b7280;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:180px}
.chat-admin__rooms .room .badge{background:#ef4444;color:#fff;border-radius:10px;font-size:12px;padding:2px 8px}

/* right conversation (reuse widget bubble classes) */
.chat-admin__conv{display:flex;flex-direction:column;min-height:0}
.conv__header{padding:12px 14px;border-bottom:1px solid #eee;background:#f9fafb}
.conv__header .title{font-weight:700}
.conv__body{flex:1;overflow-y:auto;padding:12px;display:flex;flex-direction:column;gap:10px}

/* footer */
.conv__footer{position:relative;padding:8px;border-top:1px solid #eee;display:grid;grid-template-columns:auto auto 1fr auto;gap:8px;align-items:center;background:#fff}

/* admin emoji popover position */
.emoji-popover.admin{bottom:56px;right:12px}

/* dark */
@media (prefers-color-scheme: dark){
  .chat-admin{background:#0b0f19;color:#e5e7eb}
  .chat-admin__list{border-color:#1e293b}
  .chat-admin__search{background:#0f1524;border-color:#1e293b}
  .chat-admin__search input{background:#0b0f19;color:#e5e7eb;border-color:#1e293b}
  .conv__header{background:#0f1524;border-color:#1e293b}
  .conv__footer{background:#0f1524;border-color:#1e293b}
  .chat-admin__rooms .room:hover{background:#0f1524}
  .chat-admin__rooms .room.active{background:#111827}
}

/* reuse from widget: .chat-line, .chat-bubble, .chat-time, etc. */
.chat-line{display:inline-flex;flex-direction:column;max-width:78%}
.chat-line.user{align-self:flex-end}
.chat-line.admin,.chat-line.system{align-self:flex-start}
.chat-bubble{border-radius:12px;padding:8px 10px;line-height:1.4;word-break:break-word}
.chat-line.user .chat-bubble{background:#111827;color:#fff}
.chat-line.admin .chat-bubble{background:#f3f4f6;color:#111}
.chat-line.system .chat-bubble{background:#e5e7eb;color:#111}
.chat-image img{max-width:min(260px,60vw);border-radius:10px;display:block}
.chat-time{font-size:11px;color:#9ca3af;margin-top:4px}

.icon-btn{background:transparent;border:0;font-size:20px;cursor:pointer;padding:6px;border-radius:8px}
.chat-text{width:100%;border:1px solid #e5e7eb;border-radius:10px;padding:10px 12px;outline:none}
.chat-text:focus{border-color:#cbd5e1}
.send-btn{background:#111827;color:#fff;border:0;border-radius:10px;padding:8px 12px;cursor:pointer}
